# -*- coding: utf-8 -*-
"""
统一配置文件：把你想改的参数都集中在这里改。
把整个文件夹发给别人时，只要保持目录结构不变，对方无需重新跑行业筛选/清单（除非你想重建）。
"""

from __future__ import annotations
from pathlib import Path

# 项目根目录（= 本 config.py 所在目录）
PROJECT_DIR = Path(__file__).resolve().parent

# =========================
# 研究范围参数（你最常改）
# =========================
# 市场范围：可选 "SH"(沪), "SZ"(深), "BJ"(北交所)
MARKETS = ["SH", "SZ"]

# 行业：默认筛制造业（cninfo 行业门类=制造业 或 行业编码以 C 开头）
INDUSTRY_GATE = "制造业"

# 年报会计年度范围（企业年报属于“上一会计年度”）
START_YEAR = 2014
END_YEAR = 2024

# 年报公告检索窗口：年报通常在下一年披露，所以默认 start_year+1 开始搜
ANN_START_YEAR_OFFSET = 1      # 2014 年报 -> 2015 年起检索
ANN_END_YEAR_BUFFER = 1        # 2024 年报 -> 2025 年底前检索（你也可以设 2 更保守）

# =========================
# 路径参数（磁盘满了就改这里）
# =========================
OUTPUT_DIR = PROJECT_DIR / "output"

# PDF 存储目录：
# - None 表示用 OUTPUT_DIR/pdf
# - 你也可以改成 Path(r"D:\cninfo_pdfs") 把 PDF 放到其他盘
#PDF_DIR_OVERRIDE = Path(r"G:\pdf1")
PDF_DIR_OVERRIDE = None
# =========================
# 网络/性能参数（你偶尔改）
# =========================
USER_AGENT = "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0 Safari/537.36"
REFERER = "https://www.cninfo.com.cn/"

SLEEP_BETWEEN_REQUESTS = 0.25
REQUEST_TIMEOUT = (10, 60)     # (连接超时, 读取超时)
MAX_RETRY = 4

DOWNLOAD_WORKERS = 8           # 下载并发（过大可能触发风控/限流）
EXTRACT_WORKERS = 16           # 抽取+词频并发（CPU/IO混合，Windows建议 8~12）
TEXT_MIN_LEN = 500             # 抽取到的文本去空白后长度 < 该值，则认为可能是扫描版（不做 OCR 的情况下计 0）

# 标题过滤（可按需调整）
TITLE_EXCLUDE_PATTERNS = ["摘要", "英文", "取消", "更正说明"]

# =========================
# 关键词（你最常改）
# =========================
KEYWORD_GROUPS = {
    "人工智能技术": [
        "人工智能", "商业智能", "图像理解", "投资决策辅助", "智能数据分析", "智能机器人",
        "机器学习", "深度学习", "语义搜索", "生物识别技术", "人脸识别", "语音识别",
        "身份验证", "自动驾驶", "自然语言处理",
    ],
    "大数据技术": [
        "大数据", "数据挖掘", "文本挖掘", "数据可视化", "异构数据", "征信",
        "增强现实", "混合现实", "虚拟现实",
    ],
    "云计算技术": [
        "云计算", "流计算", "图计算", "内存计算", "多方安全计算", "类脑计算",
        "绿色计算", "认知计算", "融合架构", "亿级并发", "EB级存储",
        "物联网", "信息物理系统",
    ],
    "区块链技术": [
        "区块链", "数字货币", "分布式计算", "差分隐私技术", "智能金融合约",
    ],
    "数字技术运用": [
        "移动互联网", "工业互联网", "移动互联", "互联网医疗", "电子商务", "移动支付",
        "第三方支付", "NFC支付", "智能能源", "B2B", "B2C", "C2B", "C2C", "O2O",
        "网联", "智能穿戴", "智慧农业", "智能交通", "智能医疗", "智能客服", "智能家居",
        "智能投顾", "智能文旅", "智能环保", "智能电网", "智能营销", "数字营销", "无人零售",
        "互联网金融", "数字金融", "Fintech", "金融科技", "量化金融", "开放银行",
    ],
}